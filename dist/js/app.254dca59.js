(function(e){function t(t){for(var c,s,i=t[0],o=t[1],u=t[2],l=0,b=[];l<i.length;l++)s=i[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&b.push(a[s][0]),a[s]=0;for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c]);d&&d(t);while(b.length)b.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],c=!0,i=1;i<r.length;i++){var o=r[i];0!==a[o]&&(c=!1)}c&&(n.splice(t--,1),e=s(s.s=r[0]))}return e}var c={},a={app:0},n=[];function s(t){if(c[t])return c[t].exports;var r=c[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=c,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)s.d(r,c,function(t){return e[t]}.bind(null,c));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var d=o;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"02b9":function(e,t,r){},1521:function(e,t,r){},4004:function(e,t,r){"use strict";r("1521")},"478d":function(e,t,r){"use strict";r("58cb")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var c=r("7a23");function a(e,t,r,a,n,s){var i=Object(c["w"])("NavBar"),o=Object(c["w"])("router-view");return Object(c["q"])(),Object(c["d"])(c["a"],null,[Object(c["g"])(i),Object(c["g"])("div",null,[Object(c["g"])(o,{class:"container"})])],64)}var n={class:"nav-wrapper green"},s={class:"input-field"},i=Object(c["g"])("label",{class:"label-icon",for:"search"},[Object(c["g"])("i",{class:"material-icons"},"search")],-1),o=Object(c["g"])("i",{class:"material-icons"},"close",-1);function u(e,t,r,a,u,d){return Object(c["q"])(),Object(c["d"])("nav",null,[Object(c["g"])("div",n,[Object(c["g"])("form",{onSubmit:t[2]||(t[2]=Object(c["E"])((function(){return a.updateSubreddit.apply(a,arguments)}),["prevent"]))},[Object(c["g"])("div",s,[Object(c["D"])(Object(c["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.searchTerm=e}),ref:"subreddit",id:"subreddit",class:"autocomplete",type:"search",autocomplete:"off"},null,512),[[c["A"],a.searchTerm]]),i,o])],32)])])}r("13d5"),r("96cf");var d=r("1da1"),l=r("6c02"),b=(r("99af"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),{getSubreddit:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var r,c,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="https://www.reddit.com/".concat(e,"/about.json"),t.next=3,fetch(r,{headers:{accept:"application/json"}});case 3:return c=t.sent,t.next=6,c.json();case 6:if(a=t.sent,!c.ok){t.next=9;break}return t.abrupt("return",a.data);case 9:throw n=new Error(a.message||"Failed to get subreddit info."),n.response=a,n;case 12:case"end":return t.stop()}}),t)})))()},getPosts:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function r(){var c,a,n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return c=new URLSearchParams(t),a="https://www.reddit.com/".concat(e,".json?").concat(c),r.next=4,fetch(a,{headers:{accept:"application/json"}});case 4:return n=r.sent,r.next=7,n.json();case 7:if(s=r.sent,!n.ok){r.next=10;break}return r.abrupt("return",s);case 10:throw i=new Error(s.message||"Failed to get posts."),i.response=s,i;case 13:case"end":return r.stop()}}),r)})))()}}),p={setup:function(){var e,t,r=Object(l["d"])(),a=Object(c["v"])(""),n=Object(c["v"])(null);Object(c["o"])((function(){function s(){return i.apply(this,arguments)}function i(){return i=Object(d["a"])(regeneratorRuntime.mark((function t(){var r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(a.value.length<3)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,b.getPosts("search",{q:a.value,type:"sr"});case 4:r=t.sent,c=r.data.children.reduce((function(e,t){return t.data.over18||(e[t.data.display_name]=null),e}),{}),e.updateData(c),e.open();case 8:case"end":return t.stop()}}),t)}))),i.apply(this,arguments)}e=M.Autocomplete.init(n.value,{data:{},onAutocomplete:function(e){r.push({name:"SubredditPage",params:{subreddit:e}})}}),Object(c["C"])((function(){return a.value}),(function(){clearTimeout(t),t=setTimeout((function(){s()}),100)}))}));var s=function(){clearTimeout(t),r.push({name:"SubredditPage",params:{subreddit:a.value}}),n.value&&n.value.blur()};return{updateSubreddit:s,searchTerm:a,subreddit:n}}};r("4004");p.render=u;var g=p,v={components:{NavBar:g}};r("9cdc");v.render=a;var f=v;r("b0c0"),r("4de4"),r("d81d");function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object(c["u"])({loading:!1,error:"",data:[]});function a(){return n.apply(this,arguments)}function n(){return n=Object(d["a"])(regeneratorRuntime.mark((function c(){var a;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return console.log("reloading data..."),c.prev=1,r.loading=!0,r.error="",r.data=[],c.next=7,b.getPosts(e.value,t);case 7:a=c.sent,r.data=a.data.children,c.next=14;break;case 11:c.prev=11,c.t0=c["catch"](1),r.error=c.t0.message||"Error loading posts.";case 14:return c.prev=14,r.loading=!1,c.finish(14);case 17:case"end":return c.stop()}}),c,null,[[1,11,14,17]])}))),n.apply(this,arguments)}return Object(c["C"])(e,a,{immediate:!0}),r}function O(e){var t=Object(c["u"])({loading:!1,error:"",data:null});return Object(c["C"])(e,Object(d["a"])(regeneratorRuntime.mark((function r(){var c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("Getting subreddit...",e.value),t.loading=!0,t.error="",t.data=null,r.prev=4,r.next=7,b.getSubreddit(e.value);case 7:c=r.sent,t.data=c,r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](4),t.error=r.t0.message;case 14:return r.prev=14,setTimeout((function(){t.loading=!1}),700),r.finish(14);case 17:case"end":return r.stop()}}),r,null,[[4,11,14,17]])}))),{immediate:!0}),t}var m=Object(c["F"])("data-v-f6aa6e46");Object(c["t"])("data-v-f6aa6e46");var h={class:"col s12"},w={class:"card post"},y={class:"card-content title-info"},_={class:"card-title vertical-center"},x={class:"badge green white-text score"},k={key:0,class:"card-image waves-effect waves-block waves-light"},S={class:"activator video",controls:"",muted:"",autoplay:"",loop:""},P={key:1,class:"card-image waves-effect waves-block waves-light"},R={class:"card-content"};Object(c["r"])();var T=m((function(e,t,r,a,n,s){return Object(c["q"])(),Object(c["d"])("div",h,[Object(c["g"])("div",w,[Object(c["g"])("div",y,[Object(c["g"])("span",_,[Object(c["g"])("span",x,Object(c["y"])(r.post.score),1),Object(c["f"])(" "+Object(c["y"])(r.post.title),1)]),Object(c["g"])("p",null,[Object(c["f"])(" Posted "+Object(c["y"])(a.postTime)+" by ",1),Object(c["g"])("a",{href:"https://www.reddit.com/u/".concat(r.post.author)},Object(c["y"])(r.post.author),9,["href"])])]),a.isVideo?(Object(c["q"])(),Object(c["d"])("div",k,[Object(c["g"])("video",S,[Object(c["g"])("source",{type:"video/mp4",src:a.videoUrl},null,8,["src"])])])):Object(c["e"])("",!0),a.isImage?(Object(c["q"])(),Object(c["d"])("div",P,[Object(c["g"])("img",{class:"activator",src:r.post.url},null,8,["src"])])):Object(c["e"])("",!0),Object(c["g"])("div",R,[Object(c["g"])("p",null,[Object(c["g"])("a",{href:"https://www.reddit.com".concat(r.post.permalink)},Object(c["y"])(r.post.num_comments)+" Comments",9,["href"])])])])])})),q=(r("a15b"),r("ac1f"),r("466d"),r("1276"),r("c72b")),C={props:{post:Object},setup:function(e){var t=e.post,r=Object(c["b"])((function(){return t.secure_media&&t.secure_media.reddit_video||t.url.match(/mp4|gifv|mkv|mov|webm$/)})),a=Object(c["b"])((function(){return t.url.match(/bmp|webp|png|jpg|jpeg|gif$/)})),n=Object(c["b"])((function(){if(t.secure_media&&t.secure_media.reddit_video)return t.media.reddit_video.fallback_url;var e=t.url.split(".");return e.pop(),e.concat("mp4").join(".")})),s=Object(c["b"])((function(){return q["a"](1e3*t.created_utc)}));return{postTime:s,isVideo:r,isImage:a,videoUrl:n}}};r("b816");C.render=T,C.__scopeId="data-v-f6aa6e46";var E=C,U={setup:function(){var e=Object(l["c"])(),t=Object(c["b"])((function(){return"r/".concat(e.params.subreddit)})),r=j(t),a=O(t);Object(c["C"])(a,(function(){var e;document.title=(null===(e=a.data)||void 0===e?void 0:e.title)||t.value}),{immediate:!0});var n=Object(c["b"])((function(){return r.data.filter((function(e){return!e.data.over_18})).map((function(e){return e.data}))}));return{postsState:r,posts:n,subredditState:a}},render:function(){var e=this.postsState,t=this.subredditState,r=this.posts;return Object(c["g"])("div",{class:"subreddit"},[Object(c["g"])("div",{class:"info"},[t.loading?Object(c["g"])("div",{class:"loading"},[Object(c["g"])("div",{class:"preloader-wrapper big active"},[Object(c["g"])("div",{class:"spinner-layer spinner-green-only"},[Object(c["g"])("div",{class:"circle-clipper left"},[Object(c["g"])("div",{class:"circle"},null)]),Object(c["g"])("div",{class:"gap-patch"},[Object(c["g"])("div",{class:"circle"},null)]),Object(c["g"])("div",{class:"circle-clipper right"},[Object(c["g"])("div",{class:"circle"},null)])])])]):null,!!t.error&&Object(c["g"])("div",{class:"card red accent-1"},[Object(c["g"])("div",{class:"card-content white-text"},[Object(c["g"])("span",{class:"card-title"},[t.error])])]),!t.error&&!t.loading&&Object(c["g"])("div",{class:"card"},[t.data.banner_img?Object(c["g"])("div",{class:"card-image"},[Object(c["g"])("img",{src:t.data.banner_img},null)]):null,Object(c["g"])("div",{class:"card-content banner"},[t.data.icon_img?Object(c["g"])("div",{class:"icon"},[Object(c["g"])("img",{class:"circle",src:t.data.icon_img},null)]):null,Object(c["g"])("div",null,[Object(c["g"])("span",{class:"card-title"},[t.data.display_name_prefixed]),Object(c["g"])("span",{class:"card-title"},[t.data.title])])]),Object(c["g"])("div",{class:"card-content"},[Object(c["g"])("p",null,[t.data.public_description]),Object(c["g"])("small",null,[t.data.active_user_count,Object(c["f"])(" of "),t.data.subscribers," ",Object(c["f"])("subscribers are here.")])])])]),e.loading&&Object(c["g"])("div",{class:"progress green lighten-3"},[Object(c["g"])("div",{class:"indeterminate green"},null)]),!!e.error&&Object(c["g"])("div",{class:"card red accent-1"},[Object(c["g"])("div",{class:"card-content white-text"},[Object(c["g"])("span",{class:"card-title"},[e.error])])]),Object(c["g"])("div",{class:"row"},[r.map((function(e){return Object(c["g"])(E,{key:e.id,post:e},null)}))])])}},A=(r("478d"),U),F=[{path:"/r/:subreddit",name:"SubredditPage",component:A}],I=Object(l["a"])({history:Object(l["b"])(),routes:F});I.beforeEach((function(e,t,r){"SubredditPage"!==e.name?r({name:"SubredditPage",params:{subreddit:"aww"}}):r()}));var V=I,B=r("5502"),D=Object(B["a"])({state:{},mutations:{},actions:{},modules:{}});Object(c["c"])(f).use(D).use(V).mount("#app")},"58cb":function(e,t,r){},"9cdc":function(e,t,r){"use strict";r("c701")},b816:function(e,t,r){"use strict";r("02b9")},c701:function(e,t,r){}});
//# sourceMappingURL=app.254dca59.js.map